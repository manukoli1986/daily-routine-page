<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description"
    content="Analytics dashboard for your daily routine planner - track progress, streaks, and category breakdown.">
  <title>Dashboard â€” Daily Routine Planner</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="dashboard.css">
  <script src="auth.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.7/dist/chart.umd.min.js"></script>
</head>

<body>
  <!-- Animated background orbs -->
  <div class="bg-orb bg-orb-1"></div>
  <div class="bg-orb bg-orb-2"></div>
  <div class="bg-orb bg-orb-3"></div>

  <div class="dash-container">
    <!-- Dashboard Header -->
    <header class="dash-header">
      <div class="dash-header-left">
        <a href="index.html" class="back-link" aria-label="Back to planner">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"
            stroke-linecap="round" stroke-linejoin="round">
            <polyline points="15 18 9 12 15 6" />
          </svg>
        </a>
        <div>
          <h1>ğŸ“Š Dashboard</h1>
          <p class="dash-subtitle">Your routine analytics & insights</p>
        </div>
      </div>
      <div class="range-selector">
        <button class="range-btn active" data-range="7">7 Days</button>
        <button class="range-btn" data-range="14">14 Days</button>
        <button class="range-btn" data-range="30">30 Days</button>
      </div>
    </header>

    <!-- KPI Row -->
    <section class="kpi-row">
      <div class="kpi-card">
        <div class="kpi-icon kpi-icon-avg">ğŸ“ˆ</div>
        <div class="kpi-value" id="kpiAvg">0%</div>
        <div class="kpi-label">Avg Completion</div>
      </div>
      <div class="kpi-card">
        <div class="kpi-icon kpi-icon-done">âœ…</div>
        <div class="kpi-value" id="kpiDone">0</div>
        <div class="kpi-label">Tasks Done</div>
      </div>
      <div class="kpi-card">
        <div class="kpi-icon kpi-icon-streak">ğŸ”¥</div>
        <div class="kpi-value" id="kpiStreak">0</div>
        <div class="kpi-label">Current Streak</div>
      </div>
      <div class="kpi-card">
        <div class="kpi-icon kpi-icon-best">ğŸ†</div>
        <div class="kpi-value" id="kpiBest">0</div>
        <div class="kpi-label">Best Streak</div>
      </div>
    </section>

    <!-- Chart Row 1 -->
    <section class="chart-row">
      <div class="chart-card chart-card-wide">
        <div class="chart-card-header">
          <h3>Completion Trend</h3>
          <span class="chart-badge">Daily %</span>
        </div>
        <div class="chart-body">
          <canvas id="trendChart"></canvas>
        </div>
      </div>
      <div class="chart-card">
        <div class="chart-card-header">
          <h3>Category Breakdown</h3>
          <span class="chart-badge">Tasks</span>
        </div>
        <div class="chart-body chart-body-donut">
          <canvas id="donutChart"></canvas>
        </div>
      </div>
    </section>

    <!-- Chart Row 2 -->
    <section class="chart-row">
      <div class="chart-card chart-card-wide">
        <div class="chart-card-header">
          <h3>Daily Completions</h3>
          <span class="chart-badge">Bar Chart</span>
        </div>
        <div class="chart-body">
          <canvas id="barChart"></canvas>
        </div>
      </div>
      <div class="chart-card">
        <div class="chart-card-header">
          <h3>Category Progress</h3>
          <span class="chart-badge">Rings</span>
        </div>
        <div class="chart-body">
          <div class="ring-grid" id="ringGrid">
            <!-- Progress rings rendered by JS -->
          </div>
        </div>
      </div>
    </section>

    <!-- Heatmap Section -->
    <section class="heatmap-section">
      <div class="chart-card">
        <div class="chart-card-header">
          <h3>Activity Heatmap</h3>
          <span class="chart-badge">Last 30 Days</span>
        </div>
        <div class="chart-body">
          <div class="heatmap" id="heatmap">
            <!-- Heatmap cells rendered by JS -->
          </div>
          <div class="heatmap-legend">
            <span class="heatmap-legend-label">Less</span>
            <div class="heatmap-cell-legend" style="background: rgba(124,92,252,0.08)"></div>
            <div class="heatmap-cell-legend" style="background: rgba(124,92,252,0.25)"></div>
            <div class="heatmap-cell-legend" style="background: rgba(124,92,252,0.5)"></div>
            <div class="heatmap-cell-legend" style="background: rgba(124,92,252,0.75)"></div>
            <div class="heatmap-cell-legend" style="background: rgba(124,92,252,1)"></div>
            <span class="heatmap-legend-label">More</span>
          </div>
        </div>
      </div>
    </section>
  </div>

  <script src="dashboard.js"></script>
</body>

</html>